<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Introduction to Computational and Data Sciences</title>
  <meta name="description" content="Supplemental textbook for the CDS 101 course at George Mason University.">
  <meta name="generator" content="bookdown  and GitBook 2.6.7">

  <meta property="og:title" content="Introduction to Computational and Data Sciences" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Supplemental textbook for the CDS 101 course at George Mason University." />
  <meta name="github-repo" content="mason-cds-intro-comput-sci/intro-cds" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Introduction to Computational and Data Sciences" />
  
  <meta name="twitter:description" content="Supplemental textbook for the CDS 101 course at George Mason University." />
  

<meta name="author" content="James K. Glasbrenner">
<meta name="author" content="Ajay Kulkarni">


<meta name="date" content="2018-11-26">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="probability-mass-functions.html">
<link rel="next" href="credits.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,500,700|IBM+Plex+Serif:400,400i,500,500i|Montserrat:400,400i,500,500i,700,700i|Roboto:400,400i,500,500i&amp;subset=latin-ext" rel="stylesheet">


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Introduction to Computational and Data Sciences</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Frontmatter</a><ul>
<li class="chapter" data-level="" data-path="r-session-information.html"><a href="r-session-information.html"><i class="fa fa-check"></i>R session information</a></li>
</ul></li>
<li class="part"><span><b>I Toolbox</b></span></li>
<li class="chapter" data-level="1" data-path="toolbox-introduction.html"><a href="toolbox-introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="github.html"><a href="github.html"><i class="fa fa-check"></i><b>2</b> GitHub</a><ul>
<li class="chapter" data-level="2.1" data-path="getting-started.html"><a href="getting-started.html"><i class="fa fa-check"></i><b>2.1</b> Getting started</a><ul>
<li class="chapter" data-level="2.1.1" data-path="getting-started.html"><a href="getting-started.html#github-signup"><i class="fa fa-check"></i><b>2.1.1</b> Account sign-up</a></li>
<li class="chapter" data-level="2.1.2" data-path="getting-started.html"><a href="getting-started.html#join-class-org"><i class="fa fa-check"></i><b>2.1.2</b> Joining the class organization</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="navigating-the-github-site.html"><a href="navigating-the-github-site.html"><i class="fa fa-check"></i><b>2.2</b> Navigating the GitHub site</a><ul>
<li class="chapter" data-level="2.2.1" data-path="navigating-the-github-site.html"><a href="navigating-the-github-site.html#github-navigation-main-dashboard"><i class="fa fa-check"></i><b>2.2.1</b> Main dashboard</a></li>
<li class="chapter" data-level="2.2.2" data-path="navigating-the-github-site.html"><a href="navigating-the-github-site.html#profile-page"><i class="fa fa-check"></i><b>2.2.2</b> Profile page</a></li>
<li class="chapter" data-level="2.2.3" data-path="navigating-the-github-site.html"><a href="navigating-the-github-site.html#settings"><i class="fa fa-check"></i><b>2.2.3</b> Settings</a></li>
<li class="chapter" data-level="2.2.4" data-path="navigating-the-github-site.html"><a href="navigating-the-github-site.html#class-organization-page"><i class="fa fa-check"></i><b>2.2.4</b> Class organization page</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="repositories.html"><a href="repositories.html"><i class="fa fa-check"></i><b>2.3</b> Repositories</a></li>
<li class="chapter" data-level="2.4" data-path="additional-topics.html"><a href="additional-topics.html"><i class="fa fa-check"></i><b>2.4</b> Additional topics</a><ul>
<li class="chapter" data-level="2.4.1" data-path="additional-topics.html"><a href="additional-topics.html#how-to-create-a-repository"><i class="fa fa-check"></i><b>2.4.1</b> How to create a repository</a></li>
<li class="chapter" data-level="2.4.2" data-path="additional-topics.html"><a href="additional-topics.html#how-to-import-a-repository"><i class="fa fa-check"></i><b>2.4.2</b> How to import a repository</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>II Readings</b></span></li>
<li class="chapter" data-level="3" data-path="describing-numerical-data.html"><a href="describing-numerical-data.html"><i class="fa fa-check"></i><b>3</b> Describing numerical data</a></li>
<li class="chapter" data-level="4" data-path="representing-distributions.html"><a href="representing-distributions.html"><i class="fa fa-check"></i><b>4</b> Representing distributions</a><ul>
<li class="chapter" data-level="4.1" data-path="probability-mass-functions.html"><a href="probability-mass-functions.html"><i class="fa fa-check"></i><b>4.1</b> Probability mass functions</a><ul>
<li class="chapter" data-level="4.1.1" data-path="probability-mass-functions.html"><a href="probability-mass-functions.html#example-dataset"><i class="fa fa-check"></i><b>4.1.1</b> Example dataset</a></li>
<li class="chapter" data-level="4.1.2" data-path="probability-mass-functions.html"><a href="probability-mass-functions.html#pmfs"><i class="fa fa-check"></i><b>4.1.2</b> PMFs</a></li>
<li class="chapter" data-level="4.1.3" data-path="probability-mass-functions.html"><a href="probability-mass-functions.html#plotting-pmfs"><i class="fa fa-check"></i><b>4.1.3</b> Plotting PMFs</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="cumulative-distribution-functions.html"><a href="cumulative-distribution-functions.html"><i class="fa fa-check"></i><b>4.2</b> Cumulative distribution functions</a><ul>
<li class="chapter" data-level="4.2.1" data-path="cumulative-distribution-functions.html"><a href="cumulative-distribution-functions.html#the-limits-of-probability-mass-functions"><i class="fa fa-check"></i><b>4.2.1</b> The limits of probability mass functions</a></li>
<li class="chapter" data-level="4.2.2" data-path="cumulative-distribution-functions.html"><a href="cumulative-distribution-functions.html#percentiles"><i class="fa fa-check"></i><b>4.2.2</b> Percentiles</a></li>
<li class="chapter" data-level="4.2.3" data-path="cumulative-distribution-functions.html"><a href="cumulative-distribution-functions.html#cdfs"><i class="fa fa-check"></i><b>4.2.3</b> CDFs</a></li>
<li class="chapter" data-level="4.2.4" data-path="cumulative-distribution-functions.html"><a href="cumulative-distribution-functions.html#representing-cdfs"><i class="fa fa-check"></i><b>4.2.4</b> Representing CDFs</a></li>
<li class="chapter" data-level="4.2.5" data-path="cumulative-distribution-functions.html"><a href="cumulative-distribution-functions.html#comparing-cdfs"><i class="fa fa-check"></i><b>4.2.5</b> Comparing CDFs</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="credits.html"><a href="credits.html"><i class="fa fa-check"></i><b>4.3</b> Credits</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="statistical-inference-with-infer.html"><a href="statistical-inference-with-infer.html"><i class="fa fa-check"></i><b>5</b> Statistical inference with infer</a><ul>
<li class="chapter" data-level="5.1" data-path="case-study-comparing-work-travel-times.html"><a href="case-study-comparing-work-travel-times.html"><i class="fa fa-check"></i><b>5.1</b> Case study: Comparing work travel times</a><ul>
<li class="chapter" data-level="5.1.1" data-path="case-study-comparing-work-travel-times.html"><a href="case-study-comparing-work-travel-times.html#work-travel-times-in-iowa-and-nebraska"><i class="fa fa-check"></i><b>5.1.1</b> Work travel times in Iowa and Nebraska</a></li>
<li class="chapter" data-level="5.1.2" data-path="case-study-comparing-work-travel-times.html"><a href="case-study-comparing-work-travel-times.html#defining-the-hypothesis-test"><i class="fa fa-check"></i><b>5.1.2</b> Defining the hypothesis test</a></li>
<li class="chapter" data-level="5.1.3" data-path="case-study-comparing-work-travel-times.html"><a href="case-study-comparing-work-travel-times.html#building-the-null-distribution"><i class="fa fa-check"></i><b>5.1.3</b> Building the null distribution</a></li>
<li class="chapter" data-level="5.1.4" data-path="case-study-comparing-work-travel-times.html"><a href="case-study-comparing-work-travel-times.html#computing-the-two-sided-p-value"><i class="fa fa-check"></i><b>5.1.4</b> Computing the two-sided p-value</a></li>
<li class="chapter" data-level="5.1.5" data-path="case-study-comparing-work-travel-times.html"><a href="case-study-comparing-work-travel-times.html#computing-the-95-confidence-interval"><i class="fa fa-check"></i><b>5.1.5</b> Computing the 95% confidence interval</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introduction to Computational and Data Sciences</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="cumulative-distribution-functions" class="section level2">
<h2><span class="header-section-number">4.2</span> Cumulative distribution functions</h2>
<div id="the-limits-of-probability-mass-functions" class="section level3">
<h3><span class="header-section-number">4.2.1</span> The limits of probability mass functions</h3>
<p>Probability mass functions (PMFs) work well if the number of unique values is small.
But as the number of unique values increases, the probability associated with each value gets smaller and the effect of random noise increases.</p>
<p>Let’s recall that, in the previous reading, we plotted and compared PMFs of the average work travel time in Virginia and New Jersey, which resulted in this figure:</p>
<p><img src="distributions_files/figure-html/va-nj-travel-times-pmf-1.svg" width="100%" style="display: block; margin: auto;" /></p>
<p>What happens if we choose <code>binwidth = 0.1</code> for plotting the <code>mean_work_travel</code> distribution?
The values in <code>mean_work_travel</code> are reported to the first decimal place, so <code>binwidth = 0.1</code> does not “smooth out” the data.
This increases the number of distinct values in <code>mean_work_travel</code> from 41 to 304.
The comparison between the Virginia and New Jersey PMFs will then look like this:</p>
<p><img src="distributions_files/figure-html/mean-work-travel-pmf-no-rounding-1.svg" width="100%" style="display: block; margin: auto;" /></p>
<p>This visualization has a lot of spikes of similar heights, which makes this difficult to interpret and limits its usefulness.
Also, it can be hard to see overall patterns; for example, what is the approximate difference in means between these two distributions?</p>
<p>This illustrates the tradeoff when using histograms and PMFs for visualizing single variables.
If we smooth things out by using larger bin sizes, then we can lose information that may be useful.
On the other hand, using small bin sizes creates plots like the one above, which is of limited (if any) utility.</p>
<p>An alternative that avoids these problems is the cumulative distribution function (CDF), which we turn to describing next.
But before we discuss CDFs, we first have to understand the concept of percentiles.</p>
</div>
<div id="percentiles" class="section level3">
<h3><span class="header-section-number">4.2.2</span> Percentiles</h3>
<p>If you have taken a standardized test, you probably got your results in the form of a raw score and a <strong>percentile rank</strong>.
In this context, the percentile rank is the fraction of people who scored lower than you (or the same).
So if you are “in the 90th percentile”, you did as well as or better than 90% of the people who took the exam.</p>
<p>As an example, say that you and 4 other people took a test and received the following scores:</p>
<pre><code>55  66  77  88  99</code></pre>
<p>If you received the score of 88, then what is your percentile rank?
We can calculate it as follows:</p>
<pre class="sourceCode r"><code class="sourceCode r">test_scores &lt;-<span class="st"> </span><span class="kw">data_frame</span>(<span class="dt">score =</span> <span class="kw">combine</span>(<span class="dv">55</span>, <span class="dv">66</span>, <span class="dv">77</span>, <span class="dv">88</span>, <span class="dv">99</span>))
  
number_of_tests &lt;-<span class="st"> </span>test_scores <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">count</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">pull</span>(n)
  
number_of_lower_scores &lt;-<span class="st"> </span>test_scores <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">filter</span>(score <span class="op">&lt;=</span><span class="st"> </span><span class="dv">88</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">count</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">pull</span>(n)
  
percentile_rank &lt;-<span class="st"> </span><span class="fl">100.0</span> <span class="op">*</span><span class="st"> </span>number_of_lower_scores <span class="op">/</span><span class="st"> </span>number_of_tests</code></pre>
<p>From this, we find that the percentile rank for a score of 88 is 80.
Mathematically, the calculation is <span class="math inline">\(100 \times \dfrac{4}{5} = 80\)</span>.</p>
<p>As you can see, if you are given a value, it is easy to find its percentile rank; going the other way is slightly harder.
One way to do this is to sort the scores and find the row number that corresponds to a percentile rank.
To find the row number, divide the total number of scores by 100, multiply that number by the desired percentile rank, and then <em>round up</em> to the nearest integer value.
The rounding up operation can be handled via the <code>ceiling()</code> function.
So, for our example, the value with percentile rank 55 is:</p>
<pre class="sourceCode r"><code class="sourceCode r">percentile_rank_row_number &lt;-<span class="st"> </span><span class="kw">ceiling</span>(<span class="dv">55</span> <span class="op">*</span><span class="st"> </span>number_of_tests <span class="op">/</span><span class="st"> </span><span class="dv">100</span>)

test_scores <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">arrange</span>(score) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">slice</span>(percentile_rank_row_number)</code></pre>
<table class="table table-striped table-responsive" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:right;">
score
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
77
</td>
</tr>
</tbody>
</table>
<p>The result of this calculation is called a <strong>percentile</strong>.
So this means that, in the distribution of exam scores, the 55th percentile corresponds to a score of 77.</p>
<p>In R, there is a function called <code>quantile()</code> that can do the above calculation automatically, although you need to take care with the inputs.
Let’s first show what happens when we aren’t careful.
We might think that we can calculate the 55th percentile by running:</p>
<pre class="sourceCode r"><code class="sourceCode r">test_scores <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">pull</span>(score) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">quantile</span>(<span class="dt">probs =</span> <span class="kw">combine</span>(<span class="fl">0.55</span>))</code></pre>
<table class="table table-striped table-responsive" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
x
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
55%
</td>
<td style="text-align:right;">
79.2
</td>
</tr>
</tbody>
</table>
<p>We get a score of 79.2, which isn’t in our dataset.
This happens because <code>quantile()</code> interpolates between the scores by default.
Sometimes you will want this behavior, other times you will not.
When the dataset is this small, it doesn’t make as much sense to permit interpolation, as it can be based on rather aggressive assumptions about what intermediate scores might look like.
To tell <code>quantile()</code> to compute scores in the same manner as we did above, add the input <code>type = 1</code>:</p>
<pre class="sourceCode r"><code class="sourceCode r">test_scores <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">pull</span>(score) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">quantile</span>(<span class="dt">probs =</span> <span class="kw">combine</span>(<span class="fl">0.55</span>), <span class="dt">type =</span> <span class="dv">1</span>)</code></pre>
<table class="table table-striped table-responsive" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
x
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
55%
</td>
<td style="text-align:right;">
77
</td>
</tr>
</tbody>
</table>
<p>This, as expected, agrees with the manual calculation.</p>
<p>It is worth emphasizing that the difference between “percentile” and “percentile rank” can be confusing, and people do not always use the terms precisely.
To summarize, if we want to know the percentage of people obtained scores equal to or lower than ours, then we are computing a percentile rank.
If we start with a percentile, then we are computing the score in the distribution that corresponds with it.</p>
</div>
<div id="cdfs" class="section level3">
<h3><span class="header-section-number">4.2.3</span> CDFs</h3>
<p>Now that we understand percentiles and percentile ranks, we are ready to tackle the <strong>cumulative distribution function</strong> (CDF).
The CDF is the function that maps from a value to its percentile rank.
To find the CDF for any particular value in our distribution, we compute the fraction of values in the distribution less than or equal to our selected value.
Computing this is similar to how we calculated the percentile rank, except that the result is a probability in the range 0 – 1 rather than a percentile rank in the range 0 – 100.
For our test scores example, we can manually compute the CDF in the following way:</p>
<pre class="sourceCode r"><code class="sourceCode r">test_scores_cdf &lt;-<span class="st"> </span>test_scores <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">arrange</span>(score) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">cdf =</span> <span class="kw">row_number</span>() <span class="op">/</span><span class="st"> </span><span class="kw">n</span>())</code></pre>
<table class="table table-striped table-responsive" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:right;">
score
</th>
<th style="text-align:right;">
cdf
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
55
</td>
<td style="text-align:right;">
0.2
</td>
</tr>
<tr>
<td style="text-align:right;">
66
</td>
<td style="text-align:right;">
0.4
</td>
</tr>
<tr>
<td style="text-align:right;">
77
</td>
<td style="text-align:right;">
0.6
</td>
</tr>
<tr>
<td style="text-align:right;">
88
</td>
<td style="text-align:right;">
0.8
</td>
</tr>
<tr>
<td style="text-align:right;">
99
</td>
<td style="text-align:right;">
1.0
</td>
</tr>
</tbody>
</table>
<p>The visualization of the CDF looks like:</p>
<p><img src="distributions_files/figure-html/test-scores-cdf-plot-1.svg" width="100%" style="display: block; margin: auto;" /></p>
<p>As you can see, the CDF of a sample looks like a sequence of steps.
Appropriately enough, this is called a step function, and the CDF of <em>any</em> sample is a step function.</p>
<p>Also note that we can evaluate the CDF for any value, not just values that appear in the sample.
If we select a value that is less than the smallest value in the sample, then the CDF is 0.
If we select a value that is greater than the largest value, then the CDF is 1.</p>
</div>
<div id="representing-cdfs" class="section level3">
<h3><span class="header-section-number">4.2.4</span> Representing CDFs</h3>
<p>While it’s good to know how to manually compute the CDF, we can construct the CDF of a sample automatically using the <code>geom_step()</code> function if we include <code>stat = &quot;ecdf&quot;</code> as an additional input.
Let’s use this to look at the CDF for the average work travel time for the full dataset:</p>
<pre class="sourceCode r"><code class="sourceCode r">county_complete <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ggplot</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_step</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> mean_work_travel), <span class="dt">stat =</span> <span class="st">&quot;ecdf&quot;</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">y =</span> <span class="st">&quot;CDF&quot;</span>)</code></pre>
<p><img src="distributions_files/figure-html/mean-work-travel-cdf-visualization-1.svg" width="100%" style="display: block; margin: auto;" /></p>
<p>With this plot we can easily specify an average work travel time percentile and read the associated time from the plot and vice-versa.</p>
</div>
<div id="comparing-cdfs" class="section level3">
<h3><span class="header-section-number">4.2.5</span> Comparing CDFs</h3>
<p>CDFs are especially useful for comparing distributions.
Let’s revisit the comparison we made between the average work travel times in Nebraska and Iowa.
Here is the full code that converts those distributions into CDFs:</p>
<pre class="sourceCode r"><code class="sourceCode r">county_complete <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">filter</span>(state <span class="op">==</span><span class="st"> &quot;Nebraska&quot;</span> <span class="op">|</span><span class="st"> </span>state <span class="op">==</span><span class="st"> &quot;Iowa&quot;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ggplot</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_step</span>(
    <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> mean_work_travel, <span class="dt">color =</span> state),
    <span class="dt">stat =</span> <span class="st">&quot;ecdf&quot;</span>
  ) <span class="op">+</span>
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">y =</span> <span class="st">&quot;CDF&quot;</span>)</code></pre>
<p><img src="distributions_files/figure-html/compare-cdf-of-ne-ia-travel-times-plot-1.svg" width="100%" style="display: block; margin: auto;" /></p>
<p>This visualization makes the shapes of the distributions and the relative differences between them much clearer.
We see that Nebraska has shorter average work travel times for most of the distribution, at least until you reach an average time of 25 minutes, after which the Nebraska and Iowa distributions become similar to one another.</p>
<p>While it takes some time to get used to CDFs, it is worth the effort to do so as they show more information, more clearly, than PMFs.</p>
</div>
</div>
<script src="js/custom.js"></script>
            </section>

          </div>
        </div>
      </div>
<a href="probability-mass-functions.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="credits.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/mason-cds-intro-comput-sci/intro-cds/edit/master/distributions.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
},
"search": true
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
